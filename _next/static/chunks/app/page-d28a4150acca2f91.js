(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1877:(e,t,i)=>{Promise.resolve().then(i.bind(i,3264))},3264:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var l=i(5155),n=i(2115);let s="/travel",a=[{id:"baedari",name:"배다리헌책방거리",img:"".concat(s,"/images/baedari.jpg"),tags:["culture","relax","walking","vintage","photo","allseason"],blurb:"헌책방과 골목 감성, 산책\xb7사진 스팟.",companions:["chinatown","artplatform"]},{id:"chinatown",name:"차이나타운",img:"".concat(s,"/images/chinatown.jpg"),tags:["foodie","city","photo","history","family","weekend","indoor"],blurb:"짜장면의 고장, 골목 먹거리\xb7포토존 풍부.",companions:["sinpo","artplatform"]},{id:"sinpo",name:"신포국제시장",img:"".concat(s,"/images/sinpo.jpg"),tags:["foodie","market","budget_low","street","local","weekend"],blurb:"닭강정\xb7만두 등 로컬 스트리트 푸드.",companions:["chinatown"]},{id:"artplatform",name:"인천아트플랫폼",img:"".concat(s,"/images/artplatform.jpg"),tags:["culture","exhibition","photo","walking","allseason","indoor"],blurb:"전시\xb7공연\xb7레드브릭 감성 건물 구경.",companions:["chinatown","baedari"]},{id:"sorae",name:"소래습지생태공원",img:"".concat(s,"/images/sorae.jpg"),tags:["nature","sunset","photo","walking","relax","spring","fall"],blurb:"갈대밭\xb7일몰\xb7산책로로 힐링.",companions:["sinpo"]},{id:"jjmuseum",name:"짜장면박물관 (미정)",img:"".concat(s,"/images/TBD-jjmuseum.jpg"),optional:!0,tags:["culture","history","indoor","family","allseason"],blurb:"짜장면의 역사 전시(차이나타운 연계).",companions:["chinatown"]},{id:"seamuseum",name:"해양박물관 (미정)",img:"".concat(s,"/images/TBD-seamuseum.jpg"),optional:!0,tags:["culture","history","indoor","family","allseason"],blurb:"바다\xb7선박 관련 전시(우천시 대안).",companions:["artplatform"]}],o=[{id:"S1",title:"기본 성향",questions:[{id:"tempo",type:"single",title:"여행 템포는?",options:[{key:"relax",label:"여유롭게(산책\xb7힐링)",tags:["relax","walking"]},{key:"active",label:"부지런히(많이 돌아보기)",tags:["city","photo"]}]},{id:"vibe",type:"single",title:"분위기/테마는?",options:[{key:"culture",label:"문화/전시/역사",tags:["culture","exhibition","history","indoor"]},{key:"foodie",label:"맛집/시장",tags:["foodie","market","budget_low"]},{key:"nature",label:"자연/산책/일몰",tags:["nature","sunset","walking"]}]},{id:"company",type:"single",title:"동행자는?",options:[{key:"solo",label:"혼자",tags:[]},{key:"friends",label:"친구",tags:["photo","weekend"]},{key:"family",label:"가족",tags:["family"]}]}]},{id:"S2",title:"활동 취향",questions:[{id:"prefs",type:"multi",title:"관심 활동(복수 선택)",options:[{key:"photo",label:"사진",tags:["photo"]},{key:"walking",label:"산책",tags:["walking"]},{key:"budget",label:"가성비",tags:["budget_low"]},{key:"indoor",label:"실내 위주",tags:["indoor"]},{key:"weekend",label:"주말 코스",tags:["weekend"]}]},{id:"foodType",type:"single",title:"맛집 선호 타입은?",when:{include:"vibe:foodie"},options:[{key:"market",label:"시장/스트리트",tags:["market","budget_low"]},{key:"chinese",label:"중식(짜장/만두)",tags:["foodie","indoor"]},{key:"dessert",label:"카페/디저트",tags:["photo"]}]}]},{id:"S3",title:"상황\xb7제약",questions:[{id:"season",type:"single",title:"방문 시기",options:[{key:"spring",label:"봄",tags:["spring","allseason"]},{key:"summer",label:"여름",tags:["allseason"]},{key:"fall",label:"가을",tags:["fall","allseason"]},{key:"winter",label:"겨울/실내",tags:["winter","indoor","allseason"]}]},{id:"weather",type:"single",title:"우천\xb7폭염 등 불편 시?",options:[{key:"indoorNeed",label:"실내 선호/대안 필요",tags:["indoor"]},{key:"noMatter",label:"상관없음",tags:[]}]}]}],r={S1:1,S2:1.2,S3:.9,tempo:1,vibe:1.3,company:.6,prefs:1.4,foodType:1,season:.8,weather:1};function d(e,t){if(!e.when)return!0;let[i,l]=e.when.include.split(":"),n=t[i];return Array.isArray(n)?n.includes(l):n===l}function c(e,t){let i=e.questions.filter(e=>d(e,t));return!i.length||i.every(e=>{let i=t[e.id];return"multi"===e.type?Array.isArray(i)&&i.length>0:!!i})}function g(){var e;let[t,i]=(0,n.useState)({}),[s,g]=(0,n.useState)(0),[p,u]=(0,n.useState)(!1),[y,m]=(0,n.useState)(!1),h=s>0,f=c(o[s],t)&&s<o.length-1,b=Math.round(s/o.length*100),x=o.every(e=>c(e,t)),k=(0,n.useMemo)(()=>a.filter(e=>p||!e.optional),[p]),{tagScore:j,winner:w}=(0,n.useMemo)(()=>{let e=function(e){let t=new Map;for(let n of o)for(let s of n.questions){var i,l;if(!d(s,e))continue;let a=e[s.id],o=(null!=(i=r[n.id])?i:1)*(null!=(l=r[s.id])?l:1),c=e=>e.forEach(e=>{var i;return t.set(e,(null!=(i=t.get(e))?i:0)+o)});if(a)if("single"===s.type){let e=s.options.find(e=>e.key===a);e&&c(e.tags)}else for(let e of Array.isArray(a)?a:[]){let t=s.options.find(t=>t.key===e);t&&c(t.tags)}}return t}(t),i=function(e,t,i){let l=e.map(e=>({...e,score:e.tags.reduce((e,i)=>{var l;return e+(null!=(l=t.get(i))?l:0)},0)})).sort((e,t)=>t.score-e.score);if(!l.length)return null;let n=l[0].score,s=l.filter(e=>e.score===n);if(1===s.length)return l[0];for(let e of["vibe","prefs","weather","tempo"]){let t=i[e];if(t&&"weather"===e&&"indoorNeed"===t){let e=s.filter(e=>e.tags.includes("indoor"));if(e.length)return e[0]}}return s[0]}(k,e,t);return{tagScore:e,winner:i}},[t,k]),v={border:"1px solid #eee",borderRadius:12,padding:16,marginBottom:16},S=e=>({padding:"10px 14px",borderRadius:10,border:e?"2px solid #111":"1px solid #ccc",background:e?"#f6f6f6":"#fff",cursor:"pointer"}),A=e=>{let t=e.currentTarget;t.dataset.fallbackApplied||(t.dataset.fallbackApplied="1",t.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nNjAwJyBoZWlnaHQ9JzQwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48cmVjdCBmaWxsPSIjZWVlIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIi8+PHRleHQgeD0iNTAiIHk9IjIwMCIgZmlsbD0iIzk5OSIgc3R5bGU9ImZvbnQtc2l6ZTozMHB4O2ZvbnQtZmFtaWx5OnN5c3RlbS11aSwgc2Fucy1zZXJpZiI+Tm8gSW1hZ2U8L3RleHQ+PC9zdmc+")},I=o[s];return(0,l.jsxs)("main",{style:{padding:24,maxWidth:1080,margin:"0 auto",fontFamily:"system-ui, sans-serif"},children:[(0,l.jsxs)("header",{style:{display:"flex",gap:12,alignItems:"center",marginBottom:12},children:[(0,l.jsx)("h1",{style:{fontSize:22,fontWeight:700},children:"\uD83E\uDDED 인천 취향 기반 코스 추천"}),(0,l.jsx)("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:10},children:(0,l.jsxs)("label",{style:{fontSize:14,display:"flex",alignItems:"center",gap:6},children:[(0,l.jsx)("input",{type:"checkbox",checked:p,onChange:e=>u(e.target.checked)}),"미정 코스 포함(박물관)"]})})]}),(0,l.jsx)("div",{style:{height:8,background:"#f0f0f0",borderRadius:999,marginBottom:12},children:(0,l.jsx)("div",{style:{width:"".concat(b,"%"),height:"100%",background:"#111",borderRadius:999}})}),(0,l.jsxs)("section",{style:v,children:[(0,l.jsx)("h2",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:I.title}),I.questions.filter(e=>d(e,t)).map(e=>(0,l.jsxs)("div",{style:{marginBottom:14},children:[(0,l.jsx)("div",{style:{fontWeight:600,marginBottom:8},children:e.title}),"single"===e.type&&(0,l.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:e.options.map(n=>(0,l.jsx)("button",{onClick:()=>{let t,l;return t=e.id,l=n.key,i(e=>({...e,[t]:l}))},style:S(t[e.id]===n.key),children:n.label},n.key))}),"multi"===e.type&&(0,l.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:e.options.map(n=>{let s=Array.isArray(t[e.id])&&t[e.id].includes(n.key);return(0,l.jsxs)("button",{onClick:()=>{let t,l;return t=e.id,l=n.key,i(e=>{let i=Array.isArray(e[t])?e[t]:[],n=i.includes(l)?i.filter(e=>e!==l):[...i,l];return{...e,[t]:n}})},style:S(s),children:[s?"✅ ":"",n.label]},n.key)})})]},e.id)),(0,l.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"space-between",marginTop:8},children:[(0,l.jsx)("button",{onClick:()=>{s>0&&g(e=>e-1)},disabled:!h,style:{...S(!1),opacity:h?1:.5},children:"◀ 이전"}),(0,l.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,l.jsx)("button",{onClick:()=>{i({}),g(0),m(!1)},style:S(!1),children:"초기화"}),s===o.length-1?(0,l.jsx)("button",{onClick:()=>m(!0),disabled:!x,style:{...S(!0),opacity:x?1:.5},title:x?"결과 보기":"모든 섹션의 필수 문항을 채워주세요",children:"결과 보기"}):(0,l.jsx)("button",{onClick:()=>{s<o.length-1&&g(e=>e+1)},disabled:!f,style:{...S(!0),opacity:f?1:.5},children:"다음 ▶"})]})]})]}),s===o.length-1&&y&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("section",{style:v,children:[(0,l.jsx)("h2",{style:{fontSize:18,fontWeight:700,marginBottom:10},children:"오늘의 추천"}),!w&&(0,l.jsx)("div",{children:"아직 선택 정보가 부족해요. 문항을 채워주세요."}),w&&(0,l.jsxs)("article",{style:{border:"1px solid #eee",borderRadius:12,overflow:"hidden"},children:[(0,l.jsx)("div",{style:{position:"relative",aspectRatio:"4 / 3",background:"#f4f4f4"},children:(0,l.jsx)("img",{src:w.img,alt:w.name,onError:A,style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,l.jsxs)("div",{style:{padding:12},children:[(0,l.jsx)("div",{style:{fontWeight:700,fontSize:18},children:w.name}),(0,l.jsx)("div",{style:{color:"#555",marginTop:4},children:w.blurb}),(0,l.jsxs)("div",{style:{fontSize:12,color:"#777",marginTop:6},children:["태그:"," ",w.tags.slice(0,8).join(", ")]})]})]})]}),w&&(0,l.jsxs)("section",{style:v,children:[(0,l.jsx)("h3",{style:{fontSize:16,fontWeight:700,marginBottom:8},children:"어디를 더 갈지?"}),(0,l.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(220px,1fr))",gap:12},children:null==(e=w.companions)?void 0:e.map(e=>{let t=a.find(t=>t.id===e);return t?(0,l.jsxs)("article",{style:{border:"1px solid #eee",borderRadius:12,overflow:"hidden"},children:[(0,l.jsx)("div",{style:{position:"relative",aspectRatio:"4 / 3",background:"#f4f4f4"},children:(0,l.jsx)("img",{src:t.img,alt:t.name,onError:A,style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,l.jsxs)("div",{style:{padding:12},children:[(0,l.jsx)("div",{style:{fontWeight:700},children:t.name}),(0,l.jsx)("div",{style:{color:"#555",marginTop:4},children:t.blurb})]})]},t.id):null})})]})]}),(0,l.jsx)("footer",{style:{marginTop:24,fontSize:12,color:"#888"}})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=1877)),_N_E=e.O()}]);